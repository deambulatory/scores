<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trackmania Scores!</title>
	<script src="javascript.js" defer></script>
	<link rel="stylesheet" type="text/css" href="css.css"/>
</head>

<body>
    <table class="whiteTracks">
        <thead>

            <tr>
                <th colspan="5" style="font-size: 18px;">White Tracks</th>
            </tr>

            <tr>
                <th>Track</th>
                <th class="player1">Player 1</th>
                <th class="player2">Player 2</th>
                <th>Score</th>
                <th>Time</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="downloadCell" data-file="A01.gbx">A01</td>
                <td>00:24.49</td>
                <td>00:24.49</td>
                <td></td>
                <td>00:00.00</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A02.gbx">A02</td>
                <td>00:15.96</td>
                <td>00:16.17</td>
                <td></td>
                <td>00:00.21</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A03.gbx">A03</td>
                <td>00:18.68</td>
                <td>00:18.68</td>
                <td></td>
                <td>00:00.00</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A04.gbx">A04</td>
                <td>00:05.96</td>
                <td>00:05.90</td>
                <td></td>
                <td>00:00.06</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A05.gbx">A05</td>
                <td>00:16.92</td>
                <td>00:16.84</td>
                <td></td>
                <td>00:00.08</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A06.gbx">A06</td>
                <td>00:28.48</td>
                <td>00:28.60</td>
                <td></td>
                <td>00:00.12</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A07.gbx">A07</td>
                <td>00:28.59</td>
                <td>00:29.62</td>
                <td></td>
                <td>00:01.03</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A08.gbx">A08</td>
                <td>01:03.87</td>
                <td>01:05.02</td>
                <td></td>
                <td>00:01.15</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A09.gbx">A09</td>
                <td>00:25.97</td>
                <td>00:25.99</td>
                <td></td>
                <td>00:00.02</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A10.gbx">A10</td>
                <td>00:09.58</td>
                <td>00:09.55</td>
                <td></td>
                <td>00:00.03</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A11.gbx">A11</td>
                <td>00:19.48</td>
                <td>00:19.46</td>
                <td></td>
                <td>00:00.02</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A12.gbx">A12</td>
                <td>00:19.09</td>
                <td>00:19.06</td>
                <td></td>
                <td>00:00.03</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A13.gbx">A13</td>
                <td>00:31.71</td>
                <td>00:31.72</td>
                <td></td>
                <td>00:00.01</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A14.gbx">A14</td>
                <td>00:21.62</td>
                <td>00:21.63</td>
                <td></td>
                <td>00:00.01</td>
            </tr>
            <tr>
                <td class="downloadCell" data-file="A15.gbx">A15</td>
                <td>00:25.30</td>
                <td>00:25.19</td>
                <td></td>
                <td>00:00.11</td>
            </tr>
        </tbody>
    </table>

    <table>
        <thead>

            <tr>
                <th colspan="5" style="font-size: 18px;">Green Tracks</th>
            </tr>

            <tr>
                <th>Track</th>
                <th>Player 1</th>
                <th>Player 2</th>
                <th>Score</th>
                <th>Time</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>B01</td>
                <td>00:26.14</td>
                <td>00:26.71</td>
                <td>1-0</td>
                <td>00:00.57</td>
            </tr>
            <tr>
                <td>B02</td>
                <td>00:26:17</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B03</td>
                <td>00:27:47</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B04</td>
                <td>00:13:00</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B05</td>
                <td>00:26:52</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B06</td>
                <td>00:27.36</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B07</td>
                <td>00:30.04</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B08</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B09</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B10</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B11</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B12</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B13</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B14</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
            <tr>
                <td>B15</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
                <td>TBC</td>
            </tr>
        </tbody>
    </table>

    <script>
        // Check if the user is on a mobile device
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

        // If not on a mobile device, add the click event listener
        if (!isMobile) {

            // Get a reference to the downloadCell
            const downloadCells = document.querySelectorAll(".downloadCell");

            downloadCells.forEach((cell) => {
                cell.addEventListener("click", () => {
                    const fileName = cell.getAttribute("data-file");
                    const userConfirmation = window.confirm("Do you want to download the replay for " + cell.textContent + "?");

                    if (userConfirmation) { downloadFile(fileName); }
                    else { }
                });
            });

            function downloadFile(fileName) {

                const fileURL = 'https://github.com/deambulatory/scores/raw/main/Replays/' + fileName;
                const link = document.createElement('a');
                link.href = fileURL;
                link.download = fileName;
                link.click();
            }
        }
    </script>

</body>

</html>